<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Clawdbot Control Centre</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <canvas id="bg" aria-hidden="true"></canvas>

  <div class="app">
    <aside class="nav" role="navigation" aria-label="Primary">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <div>
          <div class="brand__title">Clawdbot</div>
          <div class="brand__sub">Control Centre</div>
        </div>
      </div>
      <nav class="links">
        <a href="#/" data-route="/" class="navlink">Dashboard</a>
        <a href="#/agents" data-route="/agents" class="navlink">Agents</a>
        <a href="#/automations" data-route="/automations" class="navlink">Automations</a>
        <a href="#/about" data-route="/about" class="navlink">About</a>
      </nav>
      <div class="nav__foot">
        <div class="chip" id="clock">--:--</div>
        <button class="btn" id="btnFullscreen" type="button">Full</button>
      </div>
    </aside>

    <main class="main" role="main">
      <header class="topbar">
        <div class="topbar__title" id="pageTitle">Dashboard</div>
        <div class="topbar__actions">
          <button class="btn" id="importBtn">Import</button>
          <button class="btn" id="exportBtn">Export</button>
        </div>
      </header>

      <section id="view-dashboard" class="view">
        <h1>Welcome back, Henry.</h1>
        <p class="lede">A calm, sci‑fi terminal-style control centre. Drop beacons, manage agents, and craft automations. Settings persist to localStorage and the app runs as a static single-file site.</p>

        <div class="cards">
          <article class="card">
            <h2>Ambient console</h2>
            <p>A gentle status stream that feels like a terminal.</p>
            <div class="console" id="console" aria-label="Ambient console output"></div>
          </article>

          <article class="card">
            <h2>Constellation</h2>
            <p>Click the background to drop beacons. They persist across reloads.</p>
            <div class="kpis">
              <div class="kpi"><div class="kpi__label">beacons</div><div class="kpi__value" id="kBeacon">0</div></div>
              <div class="kpi"><div class="kpi__label">drift</div><div class="kpi__value" id="kDrift">low</div></div>
              <div class="kpi"><div class="kpi__label">mood</div><div class="kpi__value" id="kMood">cosmic</div></div>
            </div>
          </article>

          <article class="card">
            <h2>Quick actions</h2>
            <p>Small rituals to nudge the system.</p>
            <div class="actions">
              <button class="btn btn--primary" id="btnBloom" type="button">Bloom</button>
              <button class="btn" id="btnCalm" type="button">Calm</button>
              <button class="btn" id="btnReset" type="button">Reset</button>
            </div>
          </article>
        </div>

        <footer class="footer">Built for one sleepy human, by one tireless goblin.</footer>
      </section>

      <section id="view-agents" class="view hidden">
        <h1>Agents</h1>
        <p class="lede">Lightweight agents you can enable, edit, or remove. These are toy models stored locally.</p>
        <div class="panel">
          <form id="agentForm" class="form-inline">
            <input id="agentName" placeholder="Agent name" required />
            <select id="agentRole"><option>listener</option><option>actor</option><option>watcher</option></select>
            <button class="btn btn--primary" id="addAgent">Add</button>
          </form>
          <ul id="agentList" class="list"></ul>
        </div>
      </section>

      <section id="view-automations" class="view hidden">
        <h1>Automations</h1>
        <p class="lede">Compose simple triggers. This demo supports timed triggers and beacon-based actions.</p>
        <div class="panel">
          <form id="automationForm" class="form-inline">
            <input id="automationName" placeholder="Automation name" required />
            <select id="automationType"><option value="timer">timer</option><option value="beacon">beacon</option></select>
            <input id="automationData" placeholder="e.g. 10s for timer" />
            <button class="btn btn--primary" id="addAutomation">Create</button>
          </form>
          <ul id="automationList" class="list"></ul>
        </div>
      </section>

      <section id="view-about" class="view hidden">
        <h1>About</h1>
        <p class="lede">Clawdbot Control Centre — a small static single-page app designed to run from GitHub Pages without a build step. It uses hash routing and localStorage for persistence.</p>
        <p>Open-source: <a class="link" href="https://github.com/redfox8419/surprise-me" target="_blank" rel="noreferrer">source</a></p>
      </section>
    </main>
  </div>

  <script src="assets/app.js"></script>
</body>
</html>